import{r as a,C as N,W as w,j as t,L as k,k as C,a as n}from"./index-BFny5kTe.js";import L from"./Loading-C8dZ3uKJ.js";import{u as d}from"./useQuery-CCWlGU9d.js";import{A as _}from"./index-BEF1-YTE.js";import{m as E}from"./proxy-nCuQKPtL.js";function W(){const[s,c]=a.useState(null),r=a.useRef(null);let{getCart:m,addToCart:x}=a.useContext(N),{getWishlist:u,addToWishlist:l}=a.useContext(w);a.useEffect(()=>{u()},[]),a.useEffect(()=>{m()});const{data:f,isLoading:h}=d({queryKey:["brands"],queryFn:async()=>{const{data:e}=await n.get("https://ecommerce.routemisr.com/api/v1/brands");return e.data}}),{data:o,isLoading:g}=d({queryKey:["brandproducts"],queryFn:async()=>{const{data:e}=await n.get("https://ecommerce.routemisr.com/api/v1/products");return e.data}}),p=h||g,b=()=>{var e;(e=r.current)==null||e.scrollBy({left:-500,behavior:"smooth"})},y=()=>{var e;(e=r.current)==null||e.scrollBy({left:500,behavior:"smooth"})};function j(e){c(e),o.filter(i=>i.brand._id===e).length===0&&C.error("There aren't products from this brand yet",{duration:2e3,style:{background:"#f0ad4e",color:"black"}})}function v(e){return s?e.filter(i=>i.brand._id===s):e}return t.jsx(t.Fragment,{children:p?t.jsx(L,{}):t.jsxs("div",{className:"relative w-full py-16",children:[t.jsxs("div",{className:"relative",children:[t.jsx("button",{onClick:b,className:"absolute left-0 top-1/2 -translate-y-1/2 bg-secondary p-2 rounded-full shadow-md hover:bg-gray-700 transition hidden md:flex",children:t.jsx("i",{className:"fa-solid fa-chevron-left fa-lg text-2xl text-main"})}),t.jsx("ul",{ref:r,className:"bg-[#b3b3b3] flex rounded-xl mb-10 overflow-x-scroll scrollbar-hide",children:f.map(e=>t.jsxs("div",{onClick:()=>j(e._id),className:` ${e._id===s?"clicked":""} py-3 cursor-pointer flex-shrink hover:bg-[#3f3f3f] group duration-300`,children:[t.jsx("div",{className:"mx-3 bg-white border border-gray-200 rounded-lg shadow-sm",children:t.jsx("div",{className:"brand-card",children:t.jsx("img",{className:"w-full h-full object-cover rounded-t-lg",src:e.image,alt:e.name})})}),t.jsx("h5",{className:`${e._id===s?"text-main":"text-secondary"} mb-2 text-md text-center font-bold tracking-tight group-hover:text-main duration-300`,children:e.name})]},e._id))}),t.jsx("button",{onClick:y,className:"absolute md:items-center right-0 top-1/2 -translate-y-1/2 bg-secondary p-2 rounded-full shadow-md hover:bg-gray-700 transition hidden md:flex",children:t.jsx("i",{className:"fa-solid fa-chevron-right text-2xl text-main"})})]}),t.jsx("div",{className:"py-10 flex flex-wrap justify-center",children:t.jsx(_,{children:v(o).map(e=>t.jsx(E.div,{className:"py-0 px-2 sm:px-2 max-w-64 w-1/2 md:w-1/3 lg:w-1/6",layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:t.jsxs("div",{className:"product hover:shadow-black hover:shadow-xl bg-[#3f3f3f] rounded-lg relative",children:[t.jsx("i",{onClick:()=>l(e.id),className:"fa-xl fa-regular fa-heart cursor-pointer text-red-600 top-7 left-4 absolute transition-all duration-200"}),t.jsx("i",{onClick:()=>l(e.id),className:"fa-xl opacity-0 hover:opacity-100 fa-solid fa-heart cursor-pointer text-red-600 top-7 left-4 absolute transition-all duration-200"}),t.jsxs(k,{to:`/productdetails/${e.id}`,className:"block",children:[t.jsx("img",{className:"rounded-t-lg w-full",src:e.imageCover,alt:e.title}),t.jsxs("div",{className:"px-1 py-3 text-center",children:[t.jsx("h2",{className:"mb-2 text-lg font-bold tracking-tight text-main",children:e.slug.split("-",2).join(" ")}),t.jsxs("div",{className:"flex justify-between text-gray-400 px-2 my-1",children:[t.jsx("span",{children:`${e.price} EGP`}),t.jsxs("span",{children:[e.ratingsAverage,t.jsx("i",{className:"ps-1 fa fa-star rating-color fa-1x"})]})]})]})]}),t.jsx("div",{className:"px-5",children:t.jsx("div",{onClick:()=>x(e.id),className:"block cursor-pointer btn bg-main hover:bg-green-400 rounded-lg text-center w-full mx-auto py-2",children:"Add To Cart"})})]})},e.id))})})]})})}export{W as default};
