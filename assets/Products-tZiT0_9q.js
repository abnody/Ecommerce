import{b as rt,r as he,C as nt,W as ot,R as it,j as M,L as st,a as lt}from"./index-DXfDuFGS.js";import ut from"./Loading-uSxgVjgM.js";import{u as ct}from"./useQuery-8S1P7waF.js";import{f as we,c as Xe,r as at,p as ft,v as pt,i as dt,d as yt,a as ht,b as bt,n as vt,s as mt,u as gt,e as wt,w as Ot,g as Se,m as Pt}from"./proxy-vpvubMOe.js";var ke={exports:{}},He;function jt(){return He||(He=1,(()=>{var t={296:(i,p,f)=>{var P=/^\s+|\s+$/g,j=/^[-+]0x[0-9a-f]+$/i,R=/^0b[01]+$/i,w=/^0o[0-7]+$/i,z=parseInt,S=typeof f.g=="object"&&f.g&&f.g.Object===Object&&f.g,K=typeof self=="object"&&self&&self.Object===Object&&self,ie=S||K||Function("return this")(),ae=Object.prototype.toString,se=Math.max,T=Math.min,D=function(){return ie.Date.now()};function ee(O){var C=typeof O;return!!O&&(C=="object"||C=="function")}function be(O){if(typeof O=="number")return O;if(function(b){return typeof b=="symbol"||function(E){return!!E&&typeof E=="object"}(b)&&ae.call(b)=="[object Symbol]"}(O))return NaN;if(ee(O)){var C=typeof O.valueOf=="function"?O.valueOf():O;O=ee(C)?C+"":C}if(typeof O!="string")return O===0?O:+O;O=O.replace(P,"");var X=R.test(O);return X||w.test(O)?z(O.slice(2),X?2:8):j.test(O)?NaN:+O}i.exports=function(O,C,X){var b,E,U,V,N,G,H=0,te=!1,A=!1,re=!0;if(typeof O!="function")throw new TypeError("Expected a function");function le(B){var q=b,Z=E;return b=E=void 0,H=B,V=O.apply(Z,q)}function ue(B){var q=B-G;return G===void 0||q>=C||q<0||A&&B-H>=U}function I(){var B=D();if(ue(B))return ne(B);N=setTimeout(I,function(q){var Z=C-(q-G);return A?T(Z,U-(q-H)):Z}(B))}function ne(B){return N=void 0,re&&b?le(B):(b=E=void 0,V)}function Q(){var B=D(),q=ue(B);if(b=arguments,E=this,G=B,q){if(N===void 0)return function(Z){return H=Z,N=setTimeout(I,C),te?le(Z):V}(G);if(A)return N=setTimeout(I,C),le(G)}return N===void 0&&(N=setTimeout(I,C)),V}return C=be(C)||0,ee(X)&&(te=!!X.leading,U=(A="maxWait"in X)?se(be(X.maxWait)||0,C):U,re="trailing"in X?!!X.trailing:re),Q.cancel=function(){N!==void 0&&clearTimeout(N),H=0,b=G=E=N=void 0},Q.flush=function(){return N===void 0?V:ne(D())},Q}},96:(i,p,f)=>{var P="Expected a function",j=NaN,R="[object Symbol]",w=/^\s+|\s+$/g,z=/^[-+]0x[0-9a-f]+$/i,S=/^0b[01]+$/i,K=/^0o[0-7]+$/i,ie=parseInt,ae=typeof f.g=="object"&&f.g&&f.g.Object===Object&&f.g,se=typeof self=="object"&&self&&self.Object===Object&&self,T=ae||se||Function("return this")(),D=Object.prototype.toString,ee=Math.max,be=Math.min,O=function(){return T.Date.now()};function C(b){var E=typeof b;return!!b&&(E=="object"||E=="function")}function X(b){if(typeof b=="number")return b;if(function(V){return typeof V=="symbol"||function(N){return!!N&&typeof N=="object"}(V)&&D.call(V)==R}(b))return j;if(C(b)){var E=typeof b.valueOf=="function"?b.valueOf():b;b=C(E)?E+"":E}if(typeof b!="string")return b===0?b:+b;b=b.replace(w,"");var U=S.test(b);return U||K.test(b)?ie(b.slice(2),U?2:8):z.test(b)?j:+b}i.exports=function(b,E,U){var V=!0,N=!0;if(typeof b!="function")throw new TypeError(P);return C(U)&&(V="leading"in U?!!U.leading:V,N="trailing"in U?!!U.trailing:N),function(G,H,te){var A,re,le,ue,I,ne,Q=0,B=!1,q=!1,Z=!0;if(typeof G!="function")throw new TypeError(P);function ce($){var oe=A,J=re;return A=re=void 0,Q=$,ue=G.apply(J,oe)}function Pe($){var oe=$-ne;return ne===void 0||oe>=H||oe<0||q&&$-Q>=le}function fe(){var $=O();if(Pe($))return me($);I=setTimeout(fe,function(oe){var J=H-(oe-ne);return q?be(J,le-(oe-Q)):J}($))}function me($){return I=void 0,Z&&A?ce($):(A=re=void 0,ue)}function pe(){var $=O(),oe=Pe($);if(A=arguments,re=this,ne=$,oe){if(I===void 0)return function(J){return Q=J,I=setTimeout(fe,H),B?ce(J):ue}(ne);if(q)return I=setTimeout(fe,H),ce(ne)}return I===void 0&&(I=setTimeout(fe,H)),ue}return H=X(H)||0,C(te)&&(B=!!te.leading,le=(q="maxWait"in te)?ee(X(te.maxWait)||0,H):le,Z="trailing"in te?!!te.trailing:Z),pe.cancel=function(){I!==void 0&&clearTimeout(I),Q=0,A=ne=re=I=void 0},pe.flush=function(){return I===void 0?ue:me(O())},pe}(b,E,{leading:V,maxWait:E,trailing:N})}},703:(i,p,f)=>{var P=f(414);function j(){}function R(){}R.resetWarningCache=j,i.exports=function(){function w(K,ie,ae,se,T,D){if(D!==P){var ee=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ee.name="Invariant Violation",ee}}function z(){return w}w.isRequired=w;var S={array:w,bigint:w,bool:w,func:w,number:w,object:w,string:w,symbol:w,any:w,arrayOf:z,element:w,elementType:w,instanceOf:z,node:w,objectOf:z,oneOf:z,oneOfType:z,shape:z,exact:z,checkPropTypes:R,resetWarningCache:j};return S.PropTypes=S,S}},697:(i,p,f)=>{i.exports=f(703)()},414:i=>{i.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},o={};function l(i){var p=o[i];if(p!==void 0)return p.exports;var f=o[i]={exports:{}};return t[i](f,f.exports,l),f.exports}l.n=i=>{var p=i&&i.__esModule?()=>i.default:()=>i;return l.d(p,{a:p}),p},l.d=(i,p)=>{for(var f in p)l.o(p,f)&&!l.o(i,f)&&Object.defineProperty(i,f,{enumerable:!0,get:p[f]})},l.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),l.o=(i,p)=>Object.prototype.hasOwnProperty.call(i,p),l.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var c={};(()=>{l.r(c),l.d(c,{LazyLoadComponent:()=>oe,LazyLoadImage:()=>tt,trackWindowScroll:()=>ue});const i=rt();var p=l.n(i),f=l(697);function P(){return typeof window<"u"&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function j(s){return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(s)}function R(s,e){var u=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);e&&(a=a.filter(function(v){return Object.getOwnPropertyDescriptor(s,v).enumerable})),u.push.apply(u,a)}return u}function w(s,e,u){return(e=S(e))in s?Object.defineProperty(s,e,{value:u,enumerable:!0,configurable:!0,writable:!0}):s[e]=u,s}function z(s,e){for(var u=0;u<e.length;u++){var a=e[u];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(s,S(a.key),a)}}function S(s){var e=function(u,a){if(j(u)!=="object"||u===null)return u;var v=u[Symbol.toPrimitive];if(v!==void 0){var m=v.call(u,"string");if(j(m)!=="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(u)}(s);return j(e)==="symbol"?e:String(e)}function K(s,e){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(u,a){return u.__proto__=a,u},K(s,e)}function ie(s){return ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ie(s)}var ae=function(s){s.forEach(function(e){e.isIntersecting&&e.target.onVisible()})},se={},T=function(s){(function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),n&&K(r,n)})(x,s);var e,u,a,v,m=(a=x,v=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var r,n=ie(a);if(v){var h=ie(this).constructor;r=Reflect.construct(n,arguments,h)}else r=n.apply(this,arguments);return function(y,d){if(d&&(j(d)==="object"||typeof d=="function"))return d;if(d!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}(y)}(this,r)});function x(r){var n;if(function(y,d){if(!(y instanceof d))throw new TypeError("Cannot call a class as a function")}(this,x),(n=m.call(this,r)).supportsObserver=!r.scrollPosition&&r.useIntersectionObserver&&P(),n.supportsObserver){var h=r.threshold;n.observer=function(y){return se[y]=se[y]||new IntersectionObserver(ae,{rootMargin:y+"px"}),se[y]}(h)}return n}return e=x,u=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.placeholder&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollPosition,n=this.placeholder.getBoundingClientRect(),h=this.placeholder.style,y=parseInt(h.getPropertyValue("margin-left"),10)||0,d=parseInt(h.getPropertyValue("margin-top"),10)||0;return{bottom:r.y+n.bottom+d,left:r.x+n.left+y,right:r.x+n.right+y,top:r.y+n.top+d}}},{key:"isPlaceholderInViewport",value:function(){if(typeof window>"u"||!this.placeholder)return!1;var r=this.props,n=r.scrollPosition,h=r.threshold,y=this.getPlaceholderBoundingBox(n),d=n.y+window.innerHeight,g=n.x,_=n.x+window.innerWidth,k=n.y;return k-h<=y.bottom&&d+h>=y.top&&g-h<=y.right&&_+h>=y.left}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var r=this,n=this.props,h=n.className,y=n.height,d=n.placeholder,g=n.style,_=n.width;if(d&&typeof d.type!="function")return p().cloneElement(d,{ref:function(L){return r.placeholder=L}});var k=function(L){for(var F=1;F<arguments.length;F++){var W=arguments[F]!=null?arguments[F]:{};F%2?R(Object(W),!0).forEach(function(Y){w(L,Y,W[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(W)):R(Object(W)).forEach(function(Y){Object.defineProperty(L,Y,Object.getOwnPropertyDescriptor(W,Y))})}return L}({display:"inline-block"},g);return _!==void 0&&(k.width=_),y!==void 0&&(k.height=y),p().createElement("span",{className:h,ref:function(L){return r.placeholder=L},style:k},d)}}],u&&z(e.prototype,u),Object.defineProperty(e,"prototype",{writable:!1}),x}(p().Component);T.propTypes={onVisible:f.PropTypes.func.isRequired,className:f.PropTypes.string,height:f.PropTypes.oneOfType([f.PropTypes.number,f.PropTypes.string]),placeholder:f.PropTypes.element,threshold:f.PropTypes.number,useIntersectionObserver:f.PropTypes.bool,scrollPosition:f.PropTypes.shape({x:f.PropTypes.number.isRequired,y:f.PropTypes.number.isRequired}),width:f.PropTypes.oneOfType([f.PropTypes.number,f.PropTypes.string])},T.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};const D=T;var ee=l(296),be=l.n(ee),O=l(96),C=l.n(O),X=function(s){var e=getComputedStyle(s,null);return e.getPropertyValue("overflow")+e.getPropertyValue("overflow-y")+e.getPropertyValue("overflow-x")};const b=function(s){if(!(s instanceof HTMLElement))return window;for(var e=s;e&&e instanceof HTMLElement;){if(/(scroll|auto)/.test(X(e)))return e;e=e.parentNode}return window};function E(s){return E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(s)}var U=["delayMethod","delayTime"];function V(){return V=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var u=arguments[e];for(var a in u)Object.prototype.hasOwnProperty.call(u,a)&&(s[a]=u[a])}return s},V.apply(this,arguments)}function N(s,e){for(var u=0;u<e.length;u++){var a=e[u];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(s,(v=function(m,x){if(E(m)!=="object"||m===null)return m;var r=m[Symbol.toPrimitive];if(r!==void 0){var n=r.call(m,"string");if(E(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(m)}(a.key),E(v)==="symbol"?v:String(v)),a)}var v}function G(s,e){return G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(u,a){return u.__proto__=a,u},G(s,e)}function H(s,e){if(e&&(E(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return te(s)}function te(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function A(s){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A(s)}var re=function(){return typeof window>"u"?0:window.scrollX||window.pageXOffset},le=function(){return typeof window>"u"?0:window.scrollY||window.pageYOffset};const ue=function(s){var e=function(u){(function(h,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(y&&y.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),y&&G(h,y)})(n,u);var a,v,m,x,r=(m=n,x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var h,y=A(m);if(x){var d=A(this).constructor;h=Reflect.construct(y,arguments,d)}else h=y.apply(this,arguments);return H(this,h)});function n(h){var y;if(function(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}(this,n),(y=r.call(this,h)).useIntersectionObserver=h.useIntersectionObserver&&P(),y.useIntersectionObserver)return H(y);var d=y.onChangeScroll.bind(te(y));return h.delayMethod==="debounce"?y.delayedScroll=be()(d,h.delayTime):h.delayMethod==="throttle"&&(y.delayedScroll=C()(d,h.delayTime)),y.state={scrollPosition:{x:re(),y:le()}},y.baseComponentRef=p().createRef(),y}return a=n,(v=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){typeof window>"u"||this.useIntersectionObserver||b(this.baseComponentRef.current)!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement=b(this.baseComponentRef.current),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:re(),y:le()}})}},{key:"render",value:function(){var h=this.props,y=(h.delayMethod,h.delayTime,function(g,_){if(g==null)return{};var k,L,F=function(Y,ve){if(Y==null)return{};var ye,xe,Me={},Ve=Object.keys(Y);for(xe=0;xe<Ve.length;xe++)ye=Ve[xe],ve.indexOf(ye)>=0||(Me[ye]=Y[ye]);return Me}(g,_);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(g);for(L=0;L<W.length;L++)k=W[L],_.indexOf(k)>=0||Object.prototype.propertyIsEnumerable.call(g,k)&&(F[k]=g[k])}return F}(h,U)),d=this.useIntersectionObserver?null:this.state.scrollPosition;return p().createElement(s,V({forwardRef:this.baseComponentRef,scrollPosition:d},y))}}])&&N(a.prototype,v),Object.defineProperty(a,"prototype",{writable:!1}),n}(p().Component);return e.propTypes={delayMethod:f.PropTypes.oneOf(["debounce","throttle"]),delayTime:f.PropTypes.number,useIntersectionObserver:f.PropTypes.bool},e.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},e};function I(s){return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(s)}function ne(s,e){for(var u=0;u<e.length;u++){var a=e[u];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(s,(v=function(m,x){if(I(m)!=="object"||m===null)return m;var r=m[Symbol.toPrimitive];if(r!==void 0){var n=r.call(m,"string");if(I(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(m)}(a.key),I(v)==="symbol"?v:String(v)),a)}var v}function Q(s,e){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(u,a){return u.__proto__=a,u},Q(s,e)}function B(s){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},B(s)}var q=function(s){(function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),n&&Q(r,n)})(x,s);var e,u,a,v,m=(a=x,v=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var r,n=B(a);if(v){var h=B(this).constructor;r=Reflect.construct(n,arguments,h)}else r=n.apply(this,arguments);return function(y,d){if(d&&(I(d)==="object"||typeof d=="function"))return d;if(d!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}(y)}(this,r)});function x(r){return function(n,h){if(!(n instanceof h))throw new TypeError("Cannot call a class as a function")}(this,x),m.call(this,r)}return e=x,(u=[{key:"render",value:function(){return p().createElement(D,this.props)}}])&&ne(e.prototype,u),Object.defineProperty(e,"prototype",{writable:!1}),x}(p().Component);const Z=ue(q);function ce(s){return ce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce(s)}function Pe(s,e){for(var u=0;u<e.length;u++){var a=e[u];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(s,(v=function(m,x){if(ce(m)!=="object"||m===null)return m;var r=m[Symbol.toPrimitive];if(r!==void 0){var n=r.call(m,"string");if(ce(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(m)}(a.key),ce(v)==="symbol"?v:String(v)),a)}var v}function fe(s,e){return fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(u,a){return u.__proto__=a,u},fe(s,e)}function me(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function pe(s){return pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pe(s)}var $=function(s){(function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),n&&fe(r,n)})(x,s);var e,u,a,v,m=(a=x,v=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var r,n=pe(a);if(v){var h=pe(this).constructor;r=Reflect.construct(n,arguments,h)}else r=n.apply(this,arguments);return function(y,d){if(d&&(ce(d)==="object"||typeof d=="function"))return d;if(d!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return me(y)}(this,r)});function x(r){var n;(function(_,k){if(!(_ instanceof k))throw new TypeError("Cannot call a class as a function")})(this,x),n=m.call(this,r);var h=r.afterLoad,y=r.beforeLoad,d=r.scrollPosition,g=r.visibleByDefault;return n.state={visible:g},g&&(y(),h()),n.onVisible=n.onVisible.bind(me(n)),n.isScrollTracked=!!(d&&Number.isFinite(d.x)&&d.x>=0&&Number.isFinite(d.y)&&d.y>=0),n}return e=x,(u=[{key:"componentDidUpdate",value:function(r,n){n.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var r=this.props,n=r.className,h=r.delayMethod,y=r.delayTime,d=r.height,g=r.placeholder,_=r.scrollPosition,k=r.style,L=r.threshold,F=r.useIntersectionObserver,W=r.width;return this.isScrollTracked||F&&P()?p().createElement(D,{className:n,height:d,onVisible:this.onVisible,placeholder:g,scrollPosition:_,style:k,threshold:L,useIntersectionObserver:F,width:W}):p().createElement(Z,{className:n,delayMethod:h,delayTime:y,height:d,onVisible:this.onVisible,placeholder:g,style:k,threshold:L,width:W})}}])&&Pe(e.prototype,u),Object.defineProperty(e,"prototype",{writable:!1}),x}(p().Component);$.propTypes={afterLoad:f.PropTypes.func,beforeLoad:f.PropTypes.func,useIntersectionObserver:f.PropTypes.bool,visibleByDefault:f.PropTypes.bool},$.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};const oe=$;function J(s){return J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(s)}var Qe=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function We(s,e){var u=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);e&&(a=a.filter(function(v){return Object.getOwnPropertyDescriptor(s,v).enumerable})),u.push.apply(u,a)}return u}function ze(s){for(var e=1;e<arguments.length;e++){var u=arguments[e]!=null?arguments[e]:{};e%2?We(Object(u),!0).forEach(function(a){Ze(s,a,u[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(u)):We(Object(u)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(u,a))})}return s}function Ze(s,e,u){return(e=De(e))in s?Object.defineProperty(s,e,{value:u,enumerable:!0,configurable:!0,writable:!0}):s[e]=u,s}function je(){return je=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var u=arguments[e];for(var a in u)Object.prototype.hasOwnProperty.call(u,a)&&(s[a]=u[a])}return s},je.apply(this,arguments)}function et(s,e){for(var u=0;u<e.length;u++){var a=e[u];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(s,De(a.key),a)}}function De(s){var e=function(u,a){if(J(u)!=="object"||u===null)return u;var v=u[Symbol.toPrimitive];if(v!==void 0){var m=v.call(u,"string");if(J(m)!=="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(u)}(s);return J(e)==="symbol"?e:String(e)}function Ie(s,e){return Ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(u,a){return u.__proto__=a,u},Ie(s,e)}function Te(s){return Te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Te(s)}var _e=function(s){(function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),n&&Ie(r,n)})(x,s);var e,u,a,v,m=(a=x,v=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var r,n=Te(a);if(v){var h=Te(this).constructor;r=Reflect.construct(n,arguments,h)}else r=n.apply(this,arguments);return function(y,d){if(d&&(J(d)==="object"||typeof d=="function"))return d;if(d!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}(y)}(this,r)});function x(r){var n;return function(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")}(this,x),(n=m.call(this,r)).state={loaded:!1},n}return e=x,(u=[{key:"onImageLoad",value:function(){var r=this;return this.state.loaded?null:function(n){r.props.onLoad(n),r.props.afterLoad(),r.setState({loaded:!0})}}},{key:"getImg",value:function(){var r=this.props,n=(r.afterLoad,r.beforeLoad,r.delayMethod,r.delayTime,r.effect,r.placeholder,r.placeholderSrc,r.scrollPosition,r.threshold,r.useIntersectionObserver,r.visibleByDefault,r.wrapperClassName,r.wrapperProps,function(h,y){if(h==null)return{};var d,g,_=function(L,F){if(L==null)return{};var W,Y,ve={},ye=Object.keys(L);for(Y=0;Y<ye.length;Y++)W=ye[Y],F.indexOf(W)>=0||(ve[W]=L[W]);return ve}(h,y);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(h);for(g=0;g<k.length;g++)d=k[g],y.indexOf(d)>=0||Object.prototype.propertyIsEnumerable.call(h,d)&&(_[d]=h[d])}return _}(r,Qe));return p().createElement("img",je({},n,{onLoad:this.onImageLoad()}))}},{key:"getLazyLoadImage",value:function(){var r=this.props,n=r.beforeLoad,h=r.className,y=r.delayMethod,d=r.delayTime,g=r.height,_=r.placeholder,k=r.scrollPosition,L=r.style,F=r.threshold,W=r.useIntersectionObserver,Y=r.visibleByDefault,ve=r.width;return p().createElement(oe,{beforeLoad:n,className:h,delayMethod:y,delayTime:d,height:g,placeholder:_,scrollPosition:k,style:L,threshold:F,useIntersectionObserver:W,visibleByDefault:Y,width:ve},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function(r){var n=this.props,h=n.effect,y=n.height,d=n.placeholderSrc,g=n.width,_=n.wrapperClassName,k=n.wrapperProps,L=this.state.loaded,F=L?" lazy-load-image-loaded":"",W=L||!d?{}:{backgroundImage:"url(".concat(d,")"),backgroundSize:"100% 100%"};return p().createElement("span",je({className:_+" lazy-load-image-background "+h+F,style:ze(ze({},W),{},{color:"transparent",display:"inline-block",height:y,width:g})},k),r)}},{key:"render",value:function(){var r=this.props,n=r.effect,h=r.placeholderSrc,y=r.visibleByDefault,d=r.wrapperClassName,g=r.wrapperProps,_=this.getLazyLoadImage();return(n||h)&&!y||d||g?this.getWrappedLazyLoadImage(_):_}}])&&et(e.prototype,u),Object.defineProperty(e,"prototype",{writable:!1}),x}(p().Component);_e.propTypes={onLoad:f.PropTypes.func,afterLoad:f.PropTypes.func,beforeLoad:f.PropTypes.func,delayMethod:f.PropTypes.string,delayTime:f.PropTypes.number,effect:f.PropTypes.string,placeholderSrc:f.PropTypes.string,threshold:f.PropTypes.number,useIntersectionObserver:f.PropTypes.bool,visibleByDefault:f.PropTypes.bool,wrapperClassName:f.PropTypes.string,wrapperProps:f.PropTypes.object},_e.defaultProps={onLoad:function(){},afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};const tt=_e})(),ke.exports=c})()),ke.exports}var Tt=jt();function xt(t,o,l){he.useInsertionEffect(()=>t.on(o,l),[t,o,l])}function Ge(t,o){let l;const c=()=>{const{currentTime:i}=o,f=(i===null?0:i.value)/100;l!==f&&t(f),l=f};return we.update(c,!0),()=>Xe(c)}const Ee=new WeakMap;let de;function St(t,o){if(o){const{inlineSize:l,blockSize:c}=o[0];return{width:l,height:c}}else return t instanceof SVGElement&&"getBBox"in t?t.getBBox():{width:t.offsetWidth,height:t.offsetHeight}}function Et({target:t,contentRect:o,borderBoxSize:l}){var c;(c=Ee.get(t))===null||c===void 0||c.forEach(i=>{i({target:t,contentSize:o,get size(){return St(t,l)}})})}function Lt(t){t.forEach(Et)}function It(){typeof ResizeObserver>"u"||(de=new ResizeObserver(Lt))}function _t(t,o){de||It();const l=at(t);return l.forEach(c=>{let i=Ee.get(c);i||(i=new Set,Ee.set(c,i)),i.add(o),de==null||de.observe(c)}),()=>{l.forEach(c=>{const i=Ee.get(c);i==null||i.delete(o),i!=null&&i.size||de==null||de.unobserve(c)})}}const Le=new Set;let Oe;function kt(){Oe=()=>{const t={width:window.innerWidth,height:window.innerHeight},o={target:window,size:t,contentSize:t};Le.forEach(l=>l(o))},window.addEventListener("resize",Oe)}function Rt(t){return Le.add(t),Oe||kt(),()=>{Le.delete(t),!Le.size&&Oe&&(Oe=void 0)}}function Ct(t,o){return typeof t=="function"?Rt(t):_t(t,o)}const Bt=50,$e=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),Nt=()=>({time:0,x:$e(),y:$e()}),Wt={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function Fe(t,o,l,c){const i=l[o],{length:p,position:f}=Wt[o],P=i.current,j=l.time;i.current=t[`scroll${f}`],i.scrollLength=t[`scroll${p}`]-t[`client${p}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=ft(0,i.scrollLength,i.current);const R=c-j;i.velocity=R>Bt?0:pt(i.current-P,R)}function zt(t,o,l){Fe(t,"x",o,l),Fe(t,"y",o,l),o.time=l}function Dt(t,o){const l={x:0,y:0};let c=t;for(;c&&c!==o;)if(c instanceof HTMLElement)l.x+=c.offsetLeft,l.y+=c.offsetTop,c=c.offsetParent;else if(c.tagName==="svg"){const i=c.getBoundingClientRect();c=c.parentElement;const p=c.getBoundingClientRect();l.x+=i.left-p.left,l.y+=i.top-p.top}else if(c instanceof SVGGraphicsElement){const{x:i,y:p}=c.getBBox();l.x+=i,l.y+=p;let f=null,P=c.parentNode;for(;!f;)P.tagName==="svg"&&(f=P),P=c.parentNode;c=f}else break;return l}const Be={start:0,center:.5,end:1};function Ae(t,o,l=0){let c=0;if(t in Be&&(t=Be[t]),typeof t=="string"){const i=parseFloat(t);t.endsWith("px")?c=i:t.endsWith("%")?t=i/100:t.endsWith("vw")?c=i/100*document.documentElement.clientWidth:t.endsWith("vh")?c=i/100*document.documentElement.clientHeight:t=i}return typeof t=="number"&&(c=o*t),l+c}const Mt=[0,0];function Vt(t,o,l,c){let i=Array.isArray(t)?t:Mt,p=0,f=0;return typeof t=="number"?i=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?i=t.split(" "):i=[t,Be[t]?t:"0"]),p=Ae(i[0],l,c),f=Ae(i[1],o),p-f}const Ht={All:[[0,0],[1,1]]},$t={x:0,y:0};function Ft(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function At(t,o,l){const{offset:c=Ht.All}=l,{target:i=t,axis:p="y"}=l,f=p==="y"?"height":"width",P=i!==t?Dt(i,t):$t,j=i===t?{width:t.scrollWidth,height:t.scrollHeight}:Ft(i),R={width:t.clientWidth,height:t.clientHeight};o[p].offset.length=0;let w=!o[p].interpolate;const z=c.length;for(let S=0;S<z;S++){const K=Vt(c[S],R[f],j[f],P[p]);!w&&K!==o[p].interpolatorOffsets[S]&&(w=!0),o[p].offset[S]=K}w&&(o[p].interpolate=dt(o[p].offset,yt(c),{clamp:!1}),o[p].interpolatorOffsets=[...o[p].offset]),o[p].progress=ht(0,1,o[p].interpolate(o[p].current))}function qt(t,o=t,l){if(l.x.targetOffset=0,l.y.targetOffset=0,o!==t){let c=o;for(;c&&c!==t;)l.x.targetOffset+=c.offsetLeft,l.y.targetOffset+=c.offsetTop,c=c.offsetParent}l.x.targetLength=o===t?o.scrollWidth:o.clientWidth,l.y.targetLength=o===t?o.scrollHeight:o.clientHeight,l.x.containerLength=t.clientWidth,l.y.containerLength=t.clientHeight}function Yt(t,o,l,c={}){return{measure:()=>qt(t,c.target,l),update:i=>{zt(t,l,i),(c.offset||c.target)&&At(t,l,c)},notify:()=>o(l)}}const ge=new WeakMap,qe=new WeakMap,Re=new WeakMap,Ye=t=>t===document.documentElement?window:t;function Ne(t,{container:o=document.documentElement,...l}={}){let c=Re.get(o);c||(c=new Set,Re.set(o,c));const i=Nt(),p=Yt(o,t,i,l);if(c.add(p),!ge.has(o)){const P=()=>{for(const S of c)S.measure()},j=()=>{for(const S of c)S.update(bt.timestamp)},R=()=>{for(const S of c)S.notify()},w=()=>{we.read(P,!1,!0),we.read(j,!1,!0),we.update(R,!1,!0)};ge.set(o,w);const z=Ye(o);window.addEventListener("resize",w,{passive:!0}),o!==document.documentElement&&qe.set(o,Ct(o,w)),z.addEventListener("scroll",w,{passive:!0})}const f=ge.get(o);return we.read(f,!1,!0),()=>{var P;Xe(f);const j=Re.get(o);if(!j||(j.delete(p),j.size))return;const R=ge.get(o);ge.delete(o),R&&(Ye(o).removeEventListener("scroll",R),(P=qe.get(o))===null||P===void 0||P(),window.removeEventListener("resize",R))}}function Ut({source:t,container:o,axis:l="y"}){t&&(o=t);const c={value:0},i=Ne(p=>{c.value=p[l].progress*100},{container:o,axis:l});return{currentTime:c,cancel:i}}const Ce=new Map;function Je({source:t,container:o=document.documentElement,axis:l="y"}={}){t&&(o=t),Ce.has(o)||Ce.set(o,{});const c=Ce.get(o);return c[l]||(c[l]=mt()?new ScrollTimeline({source:o,axis:l}):Ut({source:o,axis:l})),c[l]}function Xt(t){return t.length===2}function Ke(t){return t&&(t.target||t.offset)}function Gt(t,o){return Xt(t)||Ke(o)?Ne(l=>{t(l[o.axis].progress,l)},o):Ge(t,Je(o))}function Jt(t,o){if(t.flatten(),Ke(o))return t.pause(),Ne(l=>{t.time=t.duration*l[o.axis].progress},o);{const l=Je(o);return t.attachTimeline?t.attachTimeline(l,c=>(c.pause(),Ge(i=>{c.time=c.duration*i},l))):vt}}function Kt(t,{axis:o="y",...l}={}){const c={axis:o,...l};return typeof t=="function"?Gt(t,c):Jt(t,c)}function Ue(t,o){Ot(!!(!o||o.current))}const Qt=()=>({scrollX:Se(0),scrollY:Se(0),scrollXProgress:Se(0),scrollYProgress:Se(0)});function Zt({container:t,target:o,layoutEffect:l=!0,...c}={}){const i=gt(Qt);return(l?wt:he.useEffect)(()=>(Ue("target",o),Ue("container",t),Kt((f,{x:P,y:j})=>{i.scrollX.set(P.current),i.scrollXProgress.set(P.progress),i.scrollY.set(j.current),i.scrollYProgress.set(j.progress)},{...c,container:(t==null?void 0:t.current)||void 0,target:(o==null?void 0:o.current)||void 0})),[t,o,JSON.stringify(c.offset)]),i}function er(){var ae,se;let{getCart:t,addToCart:o}=he.useContext(nt),{getWishlist:l,addToWishlist:c,wishlist:i,deleteProduct:p}=he.useContext(ot);const[f,P]=he.useState(new Set(((ae=i==null?void 0:i.data)==null?void 0:ae.map(T=>T.id))||[])),{scrollY:j}=Zt(),[R,w]=it.useState("up");he.useEffect(()=>{l()},[]),he.useEffect(()=>{t()}),xt(j,"change",T=>{const D=T-j.getPrevious();w(D>0?"down":"up")});function z(){return lt.get("https://ecommerce.routemisr.com/api/v1/products?page")}let{data:S,isLoading:K}=ct({queryKey:["products"],queryFn:z});const ie=async T=>{f.has(T)?(P(D=>new Set([...D].filter(ee=>ee!==T))),await p(T)):(P(D=>new Set(D.add(T))),await c(T))};return M.jsx(M.Fragment,{children:K?M.jsx(ut,{}):M.jsx("div",{className:"my-10 flex flex-wrap justify-center",children:(se=S==null?void 0:S.data)==null?void 0:se.data.map(T=>{const D=f.has(T.id);return M.jsx(Pt.div,{className:"py-0 px-2 sm:px-2 max-w-64 w-1/2 md:w-1/3 lg:w-1/6",initial:R==="up"?{opacity:0,y:100}:null,whileInView:{opacity:1,y:0},transition:{duration:.5},children:M.jsxs("div",{className:"product hover:shadow-black hover:shadow-xl bg-[#3f3f3f] rounded-lg relative",children:[M.jsx("i",{onClick:()=>ie(T.id),className:`fa-xl cursor-pointer top-7 left-4 absolute transition-all duration-200 ${D?"fa-solid fa-heart text-red-600":"fa-regular fa-heart text-gray-400 hover:text-red-600"}`}),M.jsxs(st,{to:`/productdetails/${T.id}`,className:"block",children:[M.jsx(Tt.LazyLoadImage,{className:"rounded-t-lg w-full",src:T.imageCover,alt:T.title}),M.jsxs("div",{className:"px-1 py-3 text-center",children:[M.jsx("h2",{className:"mb-2 text-lg font-bold tracking-tight text-main",children:T.slug.split("-",2).join(" ")}),M.jsxs("div",{className:"flex justify-between text-gray-400 px-2 my-1",children:[M.jsx("span",{children:`${T.price} EGP`}),M.jsxs("span",{children:[T.ratingsAverage,M.jsx("span",{children:M.jsx("i",{className:"ps-1 fa fa-star rating-color fa-1x"})})]})]})]})]}),M.jsx("div",{className:"px-5",children:M.jsx("div",{onClick:()=>{o(T.id)},className:"block cursor-pointer btn bg-main hover:bg-green-400 rounded-lg text-center w-full mx-auto py-2",children:"Add To Cart"})})]})},T.id)})})})}const ir=Object.freeze(Object.defineProperty({__proto__:null,default:er},Symbol.toStringTag,{value:"Module"}));export{er as P,ir as a,Tt as b};
